\documentclass{article}[11pt]

\include{./../../preamble.tex}
\include{./../../tikzlib/preamble.tex}

\def \title  {Current Mirrors}
\def \date   {July 12, 2025}

\def \pdfurl {https://mschweikardt.github.io/ee-notes/current-mirrors.pdf}
\def \srcurl {https://github.com/mschweikardt/ee-notes/tree/main/notes/current-mirrors}

\usepackage[scale=5]{draftwatermark}

\begin{document}

\notetitle

\section{Characteristics}

\begin{itemize}
  \item biasing/reference current $I_{\mathrm{R}}$
  
  \item number of outputs
    \begin{itemize}
      \item[-] single output with current $I_{\mathrm{O}}$
      \item[-] multiple outputs with currents $I_{\mathrm{O,1}}$, $I_{\mathrm{O,2}}$, ...
    \end{itemize}

  \item topology
    \begin{itemize}
      \item[-] classic
      \item[-] degenerated
      \item[-] cascode/stacked 
      \item[-] Wilson 
      \item[-] wide-swing
      \item[-] self-biased wide-swing
    \end{itemize}

  \item  biasing voltages $V_{\mathrm{B,}i}$ (dependent on topology)

  \item minimal output voltage $V_{\mathrm{O,min}}$ (for a given $\epsilon$)

  \item output resistance $r_{\mathrm{O}}$

  \item type
    \begin{itemize}
      \item[-] active: currents change with time
      \item[-] passive: currents constant over time (ramp-up of supply omitted)  
    \end{itemize}

  \item area (sum of with times length of all transistors in the current mirror)

  \item mismatch (variation between $I_{\mathrm{R}}$ and $I_{\mathrm{O,}i}$)
    \begin{itemize}
      \item[-] systematic 
        (evaluated for a given lower bound 
          $V_{\mathrm{O,min}}$ and upper bound $V_{\mathrm{O,max}}$)
      \item[-] statistical (evaluated at $V_{\mathrm{O}}=V_{\mathrm{R}}$)
    \end{itemize}
  \item noise
\end{itemize}

\section{Topologies}

\subsection{Classic}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-standard-nmos-schematic-a.tex}
  \end{circuitikz}
  \caption{Classic NMOS current mirror with one output}
  \label{fig:classic-nmos-1}
\end{figure}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-standard-nmos-schematic-b.tex}
  \end{circuitikz}
  \caption{Classic NMOS current mirror with two outputs}
  \label{fig:classic-nmos-2}
\end{figure}


\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-standard-pmos-schematic-a.tex}
  \end{circuitikz}
  \caption{Classic PMOS current mirror with one output}
  \label{fig:classic-pmos-1}
\end{figure}

\subsection{Degenerated}

\cite[section 3.5]{johnsmartin-aicd-12}

\subsection{Cascode/Stacked}

\cite[section 3.6]{johnsmartin-aicd-12}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-cascode-nmos-schematic-a.tex}
  \end{circuitikz}
  \caption{Cascode NMOS current mirror with one output}
  \label{fig:casc-nmos-1}
\end{figure}

\subsection{Self-Cascode}
\cite{self-cascode}

\subsection{Regulated Cascode}

\cite{sackinger-rgc-90}
\cite{coban-rrop-94}
\cite{helfenstein-gainboostop-95}

\subsection{Wilson}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-wilson-nmos-schematic-a.tex}    
  \end{circuitikz}
  \caption{Wilson NMOS current mirror with one output}
  \label{fig:classic-nmos-1}
\end{figure}



\subsection{Wide-Swing}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-wide-swing-cascode-nmos-schematic-a.tex}
  \end{circuitikz}
  \caption{Wide-Swing NMOS current mirror with one output}
  \label{fig:ws-nmos-1}
\end{figure}

\subsection{Self-Biased Wide-Swing}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-self-biased-wide-swing-cascode-nmos-schematic-a.tex}
  \end{circuitikz}
  \caption{Self-Biased Wide-Swing NMOS current mirror with one output}
  \label{fig:sb-ws-nmos-1}
\end{figure}

\subsection{High-Ratio}
\cite{galupmontoro-serparmosfet-94}
\cite[section 7.2.2]{erckert-aic-22}
\cite{fiorelli-serparmosfet-04}
\cite{arnaud-subnsota-06}

\subsection{Frequency-Dependent}
\cite{itakura-fdcm-96}

\section{Testbench}

\begin{figure}[H]
  \centering
  \begin{circuitikz}
    \input{./../../tikzlib/figs/cm-tb-schematic-a.tex}
  \end{circuitikz}
  \caption{Current mirror testbench}
  \label{fig:testbench}
\end{figure}

Input resistance
\begin{equation}
R_{\mathrm{I}} = \frac{V_{\mathrm{R}}}{I_{\mathrm{R}}}.
\end{equation}

Input admittance
\begin{equation}
\underline{Y}_{\mathrm{I}} = g_{\mathrm{I}} + j \omega C_{\mathrm{I}}
\end{equation}
Output admittance
\begin{equation}
\underline{Y}_{\mathrm{O}} = g_{\mathrm{O}} + j \omega C_{\mathrm{O}}
\end{equation}
evaluated at $V_{\mathrm{O}}=V_{\mathrm{R}}$.



The minimal output voltage of the current mirror is
\begin{equation}
V_{\mathrm{O,min}} : I_{\mathrm{O}}\left(V_{\mathrm{O,min}}\right) = \epsilon \cdot I_{\mathrm{R}}\left(V_{\mathrm{R}}\right),
\end{equation}
with $\epsilon \in (0,1)$.


\printbibliography

\end{document}